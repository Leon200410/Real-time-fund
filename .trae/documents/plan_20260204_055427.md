# 批量文本导入功能开发计划

根据您的指示，我将移除截图识别功能，全面转向更高效、准确的**批量文本导入**方案。

## 1. 功能变更

* **移除**: 删除截图识别（OCR）相关代码和依赖，精简应用。

* **新增**: “批量文本导入”功能。

## 2. 核心逻辑：智能文本解析器

我将开发一个能够兼容多种复制格式的解析引擎，支持直接粘贴以下内容：

1. **标准格式**: `代码 份额 成本` （如：`001186 1000 2.5`）
2. **支付宝/App 复制文本**:

   * 支持识别**基金名称**（自动调用接口反查代码）。

   * 支持识别**持有金额**（自动根据昨日净值反推份额）。

   * 支持识别**持有收益**（自动计算持仓成本）。

   * *示例*:

     ```
     富国中证细分化工
     14,521.97
     -478.03
     ```

## 3. 开发步骤

1. **清理代码**: 移除 `tesseract.js` 及旧的截图上传组件。
2. **UI 改造**: `AddFund` 组件新增“批量导入”标签页，提供大文本输入框。
3. **解析算法实现**:

   * 按行扫描，识别“基金名称块”或“代码块”。

   * 关联提取附近的数值（金额、收益）。

   * 自动去重与数据清洗。
4. **预览与确认**: 解析后展示预览列表，自动填充匹配到的基金代码和估算数据，供您核对后一键入库。

此方案将彻底解决识别不准的问题，同时支持从任何 App 复制文字进行导入。准备好后我将立即开始修改。
