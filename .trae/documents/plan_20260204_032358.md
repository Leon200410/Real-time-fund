# React 实时基金估值项目开发计划

根据您的需求，我将使用 React + TypeScript + Vite 技术栈为您构建一个能够实时查看基金当日涨跌估值的前端项目。

## 1. 技术栈选择
- **核心框架**: React (使用 Hooks)
- **构建工具**: Vite (快速构建，配置代理)
- **语言**: TypeScript (类型安全)
- **UI 组件库**: Ant Design (快速搭建美观的表格和表单)
- **HTTP 请求**: Axios (处理数据请求)
- **数据源**: 天天基金网估值接口 (通过 Vite 代理解决跨域问题)

## 2. 核心功能模块
### 2.1 基金管理
- **添加基金**: 输入基金代码（如 `001186`）添加关注。
- **本地存储**: 使用 `localStorage` 持久化存储用户关注的基金列表，刷新页面不丢失。
- **删除基金**: 可从列表中移除不再关注的基金。

### 2.2 实时估值展示
- **列表展示**: 使用表格展示基金详情，包括：
  - 基金代码
  - 基金名称
  - 昨日净值
  - **当前估算净值** (实时)
  - **估算涨跌幅** (实时，根据涨跌显示红绿颜色)
  - 更新时间
- **自动刷新**: 设置定时器（如每 60 秒）自动轮询最新数据。
- **手动刷新**: 提供按钮支持立即刷新。

## 3. 实现细节
### 3.1 数据接口与代理
由于天天基金接口（`fundgz.1234567.com.cn`）返回的是 JSONP 格式且存在跨域限制，我们将配置 `vite.config.ts` 设置反向代理：
- 请求路径 `/api/fund` 将被代理到 `http://fundgz.1234567.com.cn/js/`。
- 前端解析返回的 `jsonpgz({...})` 字符串，提取 JSON 数据。

### 3.2 目录结构
```
src/
  ├── components/
  │   ├── FundTable.tsx   # 基金列表组件
  │   └── AddFund.tsx     # 添加基金组件
  ├── services/
  │   └── api.ts          # 统一封装 API 请求与数据解析
  ├── types/
  │   └── index.ts        # TS 类型定义
  ├── utils/
  │   └── storage.ts      # 本地存储工具
  └── App.tsx             # 主入口
```

## 4. 开发步骤
1. **初始化项目**: 创建 Vite + React + TS 项目。
2. **安装依赖**: 安装 `antd`, `axios`, `sass` 等。
3. **配置环境**: 修改 `vite.config.ts` 配置代理。
4. **功能实现**:
   - 封装 API 请求函数。
   - 实现添加/删除基金逻辑。
   - 实现轮询与数据展示。
5. **UI 优化**: 调整样式，根据涨跌幅显示红(+)/绿(-)色（符合国内习惯）。

准备好后，请确认此计划，我将开始为您编写代码。